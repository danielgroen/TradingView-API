const { createLayout, deleteLayout } = require('../../main');

if (!process.env.SESSION || !process.env.SIGNATURE) throw Error('Please set your sessionid and signature cookies');

const layoutName = 'Dziwne Me Baby';
const symbol = 'BYBIT:SOLUSDT.P';
const interval = '120';
const indicatorId = 'PUB;69c6abd65d19495e96187f1f1602dbda';
const pineVersion = '10.0';
const inputs = {
  __profile: false,
  in_0: '5.0.3 @ 0.0.3',
  in_1: 'www.davidd.tech',
  in_10: false,
  in_100: false,
  in_101: 2.6,
  in_102: true,
  in_103: 3,
  in_104: 1,
  in_105: false,
  in_106: 20,
  in_107: false,
  in_108: 20,
  in_109: false,
  in_11: false,
  in_110: 20,
  in_111: false,
  in_112: 20,
  in_113: 'Percent',
  in_114: 8,
  in_115: 10,
  in_116: true,
  in_117: 10,
  in_118: 2,
  in_119: 100,
  in_12: false,
  in_120: true,
  in_121: true,
  in_122: 0.5,
  in_123: 'Dynamic Algo 2',
  in_124: 'MACD',
  in_125: 0.5,
  in_126: 1,
  in_127: 1.5,
  in_128: 'https://youtu.be/4PB227Y_3CY',
  in_129: false,
  in_13: true,
  in_130: 'NORMAL',
  in_131: 2,
  in_132: false,
  in_133: 6,
  in_134: false,
  in_135: 1.1,
  in_136: 1.1,
  in_137: 1,
  in_138: false,
  in_139: 1,
  in_14: 'Both',
  in_140: false,
  in_141: 'Use Percentage Instead',
  in_142: 0.8,
  in_143: false,
  in_144: 'Use Percentage Instead',
  in_145: 9,
  in_146: true,
  in_147: 'HEMA',
  in_148: 70,
  in_149: 'close',
  in_15: true,
  in_150: 'OFF',
  in_151: 1.5,
  in_152: 0,
  in_153: false,
  in_154: false,
  in_155: false,
  in_156: 60,
  in_157: 30,
  in_158: 100,
  in_159: 60,
  in_16: {
    type: 'study',
    study: 'Script@tv-scripting-101',
    plot_id: 'plot_0',
    pine_id: 'PUB;ba5b73720a2246cfa19b240dbfce62e0',
    pine_version: '1.0',
    inputs: {
      __profile: false,
      in_0: 200,
      in_1: 'high',
      in_2: 1,
      in_3: '',
      in_4: true,
      pineFeatures: '{"indicator":1,"plot":1,"ta":1,"alertcondition":1}',
    },
    offsets_by_plot: {
      plot_0: 0,
      plot_2: 0,
      plot_3: 0,
      plot_4: 0,
      plot_5: 0,
      plot_6: 0,
      plot_7: 0,
    },
  },
  in_160: 65,
  in_161: 100,
  in_162: 14,
  in_163: 'Close over/under MA5',
  in_164: false,
  in_165: false,
  in_166: false,
  in_167: false,
  in_168: false,
  in_169: false,
  in_17: 'close',
  in_170: false,
  in_171: 'EMA',
  in_172: 'EMA',
  in_173: 'EMA',
  in_174: 'EMA',
  in_175: 'EMA',
  in_176: 9,
  in_177: 21,
  in_178: 55,
  in_179: 100,
  in_18: 0,
  in_180: 350,
  in_181: 100,
  in_182: false,
  in_183: 5,
  in_184: true,
  in_185: false,
  in_186: false,
  in_187: false,
  in_188: false,
  in_189: false,
  in_19: 10,
  in_190: false,
  in_191: 6000,
  in_192: 1000,
  in_193: true,
  in_194: 150,
  in_195: 1,
  in_196: false,
  in_197: 'Standard',
  in_198: 'close',
  in_199: 14,
  in_2: 'discord.gg/daviddtech',
  in_20: 'close',
  in_200: 75,
  in_201: 25,
  in_202: 'MA',
  in_203: 14,
  in_204: false,
  in_205: false,
  in_206: 64,
  in_207: 'Trending Market',
  in_208: false,
  in_209: 'Normal',
  in_21: 'close',
  in_210: 'Static',
  in_211: 14,
  in_212: 23,
  in_213: 200,
  in_214: false,
  in_215: 14,
  in_216: 19,
  in_217: 100,
  in_218: 2,
  in_219: false,
  in_22: '>',
  in_220: false,
  in_221: false,
  in_222: '',
  in_223: false,
  in_224: false,
  in_225: 'v2',
  in_226: 5,
  in_227: 0.05,
  in_228: -0.05,
  in_229: 13,
  in_23: '<',
  in_230: 'ema',
  in_231: 'ema',
  in_232: 3,
  in_233: false,
  in_234: 'hlc3',
  in_235: 14,
  in_236: 51,
  in_237: 49,
  in_238: false,
  in_239: '',
  in_24: 'First Indicator',
  in_240: false,
  in_241: 'VWMA',
  in_242: 75,
  in_243: 30,
  in_244: false,
  in_245: false,
  in_246: '',
  in_247: false,
  in_248: 'close',
  in_249: 'close',
  in_25: 'First Indicator',
  in_250: 3,
  in_251: false,
  in_252: 130,
  in_253: 0.2,
  in_254: 2.5,
  in_255: false,
  in_256: '',
  in_257: false,
  in_258: 13,
  in_259: false,
  in_26: 'close',
  in_260: '',
  in_261: 'GMT+1',
  in_262: true,
  in_263: true,
  in_264: true,
  in_265: true,
  in_266: true,
  in_267: true,
  in_268: false,
  in_269: false,
  in_27: 'close',
  in_270: false,
  in_271: false,
  in_272: false,
  in_273: true,
  in_274: false,
  in_275: '0300-1200:1234567',
  in_276: '0800-1700:1234567',
  in_277: false,
  in_278: 946684800000,
  in_279: 4070908800000,
  in_28: 10,
  in_280: 'Once per bar',
  in_281: true,
  in_282: true,
  in_283: 1751274000000,
  in_284: true,
  in_285: false,
  in_286: false,
  in_287: '',
  in_288: 'For Connections with 3rd Party services.  \n Try www.trigger.trade \n **Placeholders** \n Close : #close# \n TP #LongTP# \n TP1 : #LongTP1#  \n TP2 : #LongTP2# \n FULL : #LongTPFULL# ... \n More on www.davidd.tech/placeholders or MT4 or MT5 TO CONNECT https://davidd.tech/pc  \n\n ',
  in_289: 'Exit or Close BOT API for exiting LONG positions.',
  in_29: 10,
  in_290: 'For Connections with 3rd Party services. \n  Try www.trigger.trade \n **Placeholders** \n Close : #close# \n TP #ShortTP# \n TP1 : #ShortTP1#  \n TP2 : #ShortTP2# \n FULL : #ShortTPFULL# ... \n More on www.davidd.tech/placeholders or MT4 or MT5 TO CONNECT https://davidd.tech/pc \n\n',
  in_291: 'Exit or Close BOT API for exiting SHORT positions.',
  in_292: 'API SERVICES CODE for LONG TP 1',
  in_293: 'API SERVICES CODE for SHORT TP 1',
  in_294: 'API SERVICES CODE for LONG TP 2',
  in_295: 'API SERVICES CODE for SHORT TP 2',
  in_296: true,
  in_297: 'Auto',
  in_298: false,
  in_299: false,
  in_3: 't.me/DaviddTech',
  in_30: false,
  in_300: true,
  in_301: false,
  in_302: false,
  in_303: false,
  in_304: true,
  in_305: false,
  in_306: false,
  in_307: true,
  in_308: 4282404099,
  in_309: 4280098231,
  in_31: 'close',
  in_310: 648103694,
  in_311: ' ',
  in_312: false,
  in_313: false,
  in_314: 'percent_of_equity',
  in_315: 0.055,
  in_316: 6,
  in_317: 'percent',
  in_318: 3,
  in_319: 'USDT',
  in_32: 'close',
  in_320: 100,
  in_321: 3000,
  in_322: 0,
  in_323: false,
  in_324: 'FIFO',
  in_325: 0,
  in_326: 0,
  in_327: 'BACKTEST',
  in_328: '',
  in_329: 'order_fills',
  in_33: '>',
  in_330: '',
  in_331: 2,
  in_332: true,
  in_333: false,
  in_334: false,
  in_335: '',
  in_34: '<',
  in_35: 'First Indicator',
  in_36: 'First Indicator',
  in_37: 'close',
  in_38: 'close',
  in_39: 10,
  in_4: true,
  in_40: 10,
  in_41: false,
  in_42: 'close',
  in_43: 'close',
  in_44: '>',
  in_45: '<',
  in_46: 'First Indicator',
  in_47: 'First Indicator',
  in_48: 'close',
  in_49: 'close',
  in_5: true,
  in_50: 10,
  in_51: 10,
  in_52: false,
  in_53: 'close',
  in_54: 'close',
  in_55: '>',
  in_56: '<',
  in_57: 'First Indicator',
  in_58: 'First Indicator',
  in_59: 'close',
  in_6: true,
  in_60: 'close',
  in_61: 10,
  in_62: 10,
  in_63: false,
  in_64: 'close',
  in_65: 'close',
  in_66: '>',
  in_67: '<',
  in_68: 'First Indicator',
  in_69: 'First Indicator',
  in_7: true,
  in_70: true,
  in_71: 'R:R',
  in_72: 'ATR',
  in_73: false,
  in_74: 0.5,
  in_75: 1.6,
  in_76: 2.8,
  in_77: 3,
  in_78: 2.8,
  in_79: 100,
  in_8: 'NORMAL',
  in_80: 200,
  in_81: 100,
  in_82: 200,
  in_83: {
    type: 'study',
    study: 'Script@tv-scripting-101',
    plot_id: 'plot_2',
    pine_id: 'PUB;ba5b73720a2246cfa19b240dbfce62e0',
    pine_version: '1.0',
    inputs: {
      __profile: false,
      in_0: 200,
      in_1: 'high',
      in_2: 1,
      in_3: '',
      in_4: true,
      pineFeatures: '{"indicator":1,"plot":1,"ta":1,"alertcondition":1}',
    },
    offsets_by_plot: {
      plot_0: 0,
      plot_2: 0,
      plot_3: 0,
      plot_4: 0,
      plot_5: 0,
      plot_6: 0,
      plot_7: 0,
    },
  },
  in_84: {
    type: 'study',
    study: 'Script@tv-scripting-101',
    plot_id: 'plot_3',
    pine_id: 'PUB;ba5b73720a2246cfa19b240dbfce62e0',
    pine_version: '1.0',
    inputs: {
      __profile: false,
      in_0: 200,
      in_1: 'high',
      in_2: 1,
      in_3: '',
      in_4: true,
      pineFeatures: '{"indicator":1,"plot":1,"ta":1,"alertcondition":1}',
    },
    offsets_by_plot: {
      plot_0: 0,
      plot_2: 0,
      plot_3: 0,
      plot_4: 0,
      plot_5: 0,
      plot_6: 0,
      plot_7: 0,
    },
  },
  in_85: 50,
  in_86: 60,
  in_87: 1.6,
  in_88: 1.4,
  in_89: 9,
  in_9: true,
  in_90: 1,
  in_91: 2.5,
  in_92: 'Source',
  in_93: 'close',
  in_94: 'close',
  in_95: 14,
  in_96: false,
  in_97: 'Close',
  in_98: 'Instant',
  in_99: 15,
  pineFeatures: '{"import":1,"strategy":1,"plot":1,"str":1,"array":1,"ta":1,"math":1,"alert":1,"line":1,"label":1,"table":1,"request.security":1}',
};

(async () => {
  const layoutUrl = await createLayout(
    layoutName,
    symbol,
    interval,
    indicatorId,
    pineVersion,
    inputs,
    process.env.SESSION,
    process.env.SIGNATURE,
  );

  console.log(`https://www.tradingview.com/chart/${layoutUrl}`);

  // await deleteLayout(layoutUrl, process.env.SESSION, process.env.SIGNATURE);
})();
